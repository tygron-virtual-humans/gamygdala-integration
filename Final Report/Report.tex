\documentclass[]{article}
\usepackage[utf8]{inputenc}
\usepackage{glossaries}
\usepackage{hyperref}
\makeglossaries

\newglossaryentry{Gamygdala}
{
	name=Gamygdala,
	description={An emotional engine created to simulate emotions for virtual identities\cite{Gamygdala}.}
}

\newglossaryentry{GOAL}
{
	name=GOAL,
	description={A programming language developed at TU Delft for creating Virtual Humans\cite{GOAL}.}
}

\newglossaryentry{agent}
{
	name=agent,
	description={A virtual identity that uses logical rules to derive the wanted actions and can percept events from the environment. It is AI.}
}

\newglossaryentry{MoSCoW}
{
	name=MoSCoW,
	description={A method used to fill in requirements for a project based on difference in priority regarding the final goal of the project.\cite{MoSCoW}}
}


\title{Final Report}
\author{GROUP: Gamygdala-Integration:\\
	B.L.L. Kreynen\\
	M. Spanoghe\\
	R.A.N. Starre\\
	Y. L. Verhoog\\
	J.H. Wooning\\
	}




\begin{document}
% Title Page
\maketitle
\pagebreak
\tableofcontents
\pagebreak
\section{Abstract}

\section{Introduction}
In this section you can find a brief introduction to the context problem and to the solutions applied by group 3. 
\subsection{Problem description}
The research problem is stated by a company called Tygron. They provide local authorities with a game in which their city is fully simulated. In this game the council members can discuss difficult matters on where to build certain structures. By doing so they gain an understanding of everybody's needs and responsibilities. The main question that rises is the possibility of replacing one of those players with an Artificial Intelligence solution. Since the players of this game mostly interact in an emotional way, as real humans do, these bots should feel emotions too.\par 
This topic is very interesting because it has many applications. Both further research and different industries can profit from this. For this context project the students work in a large group that is subdivided into different smaller groups each with specific tasks. In total there are 4 groups of 5 students that work together. Together the whole group will make a proof of concept by creating a game in the Tygron engine\cite{Tygron}, creating an interface between the Tygron engine and \gls{GOAL} and creating both a plug-in and an integration of the \gls{Gamygdala} emotional engine in GOAL. The specific task of this subgroup is to provide the group that will create an agent with an integration of Gamygdala in GOAL. It is not our task to implement the engine itself, since it is already present, but it is our job to integrate it in GOAL in a way that programmers, like the other groups, can make use of this when creating virtual humans.\par 
In this report there is given a overview of the user requirements first. Then a list of the implemented software product is explained in detail. After that, you can find a reflection of the product and process from a software engineering perspective. This is followed by a detailed list of implemented features. A section on the Human Computer Interaction will then explain how the product and users interact. Finally a conclusion and outlook will list all the important findings and future improvements.
\\

\subsection{User requirements}
In this section you can find the specific tasks the product should fulfill.
By using the \gls{MoSCoW} method we can subdivide the high level specifications into the following. The subsections decrease in importance or priority. This means that for example the MUST-haves are way more important to implement than the COULD-haves. This method is very handy and more information can be found in the glossary or references.
\subsubsection*{Must haves}
\begin{itemize}
	\item An \gls{agent} in GOAL must have an equivalent in Gamygdala.
	\item The agent's goals in GOAL should also be present in Gamygdala for that agent. This means that if you define a goal for an agent in GOAL that the Gamygdala engine must also know of this. New goals must be communicated to Gamygdala.
	\item It must be possible to define how good or bad a belief is for certain goals.
	\item It must be possible to define relations between agents in GOAL.
	\item It must be possible to have these relations also present in Gamygdala. Again, it must be the case that when a relation is created in GOAL, the Gamygdala engine knows about this relation. Otherwise no emotions between two agents can be calculated.
	\item It must be possible to retrieve the emotional state of an agent in the same way as his beliefs.
	\item It must be possible to setup an initial emotion of an agent.
\end{itemize}
 
\subsubsection*{Should haves}

\begin{itemize}
	\item It should be possible to set the gain to a specific value.
	\item It should be possible to set the decay to a specific function.
	\item The  Gamygdala goals and its properties should be possible to change. This also includes the relations regarding beliefs and goals.
	\item It should be possible to display the emotional states in the Simple IDE\cite{SimpleIDE} provided with GOAL for debugging.
\end{itemize}


\subsubsection*{Could haves}

\begin{itemize}
	\item It could be possible to set a custom decay function.
	\item It could be possible to change relations during runtime.
	
	\item It could be possible for an agent to reason about other agents emotional bases.
\end{itemize}

\subsubsection*{Will not haves}
\begin{itemize}
	\item Eclipse plug-in
\end{itemize}

\clearpage

\section{Outlook}
This section gives a recommendation as to what possible improvements there still are for future expansion of the project.

\subsection{Emotion configuration parser}
First off we define the properties of the emotion configuration in a regular text file that is parsed by a simple parser. It's not a bad idea to improve upon this and to create a new file with the ANTLR framework that is used for the other files in GOAL as well. Furthermore while our parser does throw errors which mention which line numbers are still incorrect it would be nice if this could be statically checked and displayed in the SimpleIDE or the GOAL plug-in for eclipse.

\subsection{Emotion configuration}
Secondly there are still a few things that could be added to the emotion configuration. It is possible to define common goals and individual goals and it is possible to define that the individual goals only apply to certain agents. However it is not possible to define a notion of teams for the common goals, if a common goal is defined and two agents adopt this goal then it is assumed that they are working together on this goal in some instances it might be useful to have an optional parameter that allows you to define multiple teams for these common goals. However before adding something like this it should also be considered whether this does not complicate the emotion configuration too much for a feature that might not be all that widely used.

\subsection{Aspects of GOAL that influence emotions}
There are still some aspects in GOAL that are not being taken into account for the evaluation of emotions but which could potentially be interesting. For example bots can send messages to each other and bots can also try to reason about the goals and beliefs that other agents are holding. These parts of GOAL have no effect on emotions in the current implementation. An example of how this could affect emotions is that needing to drop a GOAL because of a message given by another agents is less bad than having to drop a GOAL because of your own observations (the idea being that you were notified beforehand and had to waste less time trying to achieve this goal before realizing you couldn't complete it anymore). While we're not sure how this should affect emotions exactly it would be interesting to take a look at what could be done in these areas. Although, again, adding definitions for these things might make the emotion configuration overly complicated for a feature that might not have that big of an effect, this should be considered when thinking of these features. Either a smart way of setting a standard for these messages (so that programmers just have to send the correct message and not worry about any other configuration) or a very easy way of defining them in the emotion configuration should be figured out.

\subsection{Causal agents}
At the moment determining the causal agent of dropping or achieving a goal is fairly simplistic, for individual goals the causal agent is always the agent itself and for common goals it is the agents that first achieved that goal. This does not always reflect the real world and it might be interesting to see what can be done to improve this. Again just like with the other sections it should be carefully thought out so that it does not complicate the use of gamygdala within GOAL too much. For this an potentially interesting solution would be to define a new drop and insert predicate that not only takes the goal/belief to drop/insert as input but that also allows the programmer to enter which agent caused this drop/insert.

\subsection{Code quality}
Finally, in terms of code quality there can always be improvements of course. Some parts of the code would benefit from being re-factored a bit. Most of the code would also benefit from better integration testing, but this is not only a problem in our own code but also in the code of GOAL. In terms of unit testing the code written by our group scores pretty high but throughout the project we noticed a few times that some changes created serious issue in GOAL but none of our tests notified us of this. This was caused by a shortage of integration testing, all the individual components still seemed to work perfectly fine but when combined in certain scenarios they failed and these scenarios were not always tested. As mentioned, this would also be a recommendation to GOAL itself, at one time for example a modification to updating the goal base caused one of our two agents to not perform any actions anymore at all, this was not caught by integration nor unit tests of GOAL.

\section{Functionality Description}
\subsection{Default functionality}
The purpose of the integration of Gamygdala into the GOAL runtime is to provide all of Gamygdalas functionality continuously in the GOAL multi-agent system. This is possible because Gamygdala is, as GOAL obviously is, goal-oriented. This implementation was chosen so that developers do not need to code for every call to Gamygdala, but rather every update relevant to an agent's (specified) goals is evaluated by Gamygdala automatically. After evaluation, an agents updated emotional state is inserted into the emotion base, which can be queried by GOAL and is displayed in the GUI of the SimpleIDE GOAL development environment, similar to the belief and especially the percept base. Developers can use a large portion of the functionality of Gamygdala without having to write one line of extra code. It's just there doing its job. A developer can write agents that reason about their emotions just as if they were another percept from an environment, but in this isntance the environment is internal to the agent. Agents cannot read each others emotional states, only their own. They all have perfect poker faces. Developers can, of course, choose to let their agent notify other agents of their emotional state whenever they want. This would be useful to do in many environments. Adding the option to do this automatically, with various levels of transparancy, would be a useful extension to this project if it is continued.

There are default values for all the parameters available to Gamygdala and many others relevant to the function of Gamygdala within GOAL, which can be modified by developers in the emotion configuration file.


\subsection{Emotion configuration options}
In this section an overview is given of the options in the emotion configuration file. For more detailed descriptions of every option, please refer to the EmotionConfig Documentation in Appendix X. 

\subsection{Use cases}

\clearpage
\printglossaries


\begin{thebibliography}{9}
	
	\bibitem{GOAL}
	GOAL programming language
	\url{http://ii.tudelft.nl/trac/goal}
	
	\bibitem{Gamygdala}
	Gamygdala emotion engine
	\url{http://ii.tudelft.nl/~joostb/gamygdala/index.html}
	
	\bibitem{MoSCoW}
	MoScoW method
	\url{http://en.wikipedia.org/wiki/MoSCoW_method }
	
	\bibitem{Tygron}
	Tygron engine
	\url{http://www.tygron.com }
	
	\bibitem{SimpleIDE}
	Simple IDE
	\url{https://github.com/goalhub/simpleIDE }
	
	
\end{thebibliography}

\end{document}     
